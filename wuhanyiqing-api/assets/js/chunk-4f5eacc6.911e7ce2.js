(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f5eacc6","chunk-e4a8698a"],{3487:function(e,t,a){"use strict";var r=a("3cc0"),i=a.n(r);i.a},"3cc0":function(e,t,a){},f3fd:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mod-user"},[a("h1",{staticStyle:{"text-align":"center"}},[e._v("人员信息核定")]),a("el-form",{ref:"dataForm",attrs:{inline:!0,model:e.dataForm,rules:e.dataRule,id:"formList"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmit()}}},[a("div",{staticStyle:{width:"100%","background-color":"#d7d5d5","padding-left":"3%"}},[a("h3",{staticStyle:{"line-height":"55px"}},[e._v("基本信息")]),a("el-row",{staticStyle:{"margin-top":"-25px"}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"核定日期：",prop:"checkDate"}},[a("el-date-picker",{attrs:{type:"datetime",clearable:!1,"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择日期",format:"yyyy-MM-dd HH:mm:ss"},model:{value:e.dataForm.checkDate,callback:function(t){e.$set(e.dataForm,"checkDate",t)},expression:"dataForm.checkDate"}})],1)],1),a("el-col",{attrs:{span:24}}),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"镇/街：",prop:"street"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.getCommunity()}},model:{value:e.dataForm.street,callback:function(t){e.$set(e.dataForm,"street",t)},expression:"dataForm.street"}},e._l(e.opt1,function(e){return a("el-option",{key:e.adminUnitId,attrs:{label:e.adminUnitName,value:e.adminUnitId}})}),1)],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"村/社区：",prop:"community"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dataForm.community,callback:function(t){e.$set(e.dataForm,"community",t)},expression:"dataForm.community"}},e._l(e.opt2,function(e){return a("el-option",{key:e.adminUnitId,attrs:{label:e.adminUnitName,value:e.adminUnitId}})}),1)],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"姓名：",prop:"personName"}},[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.dataForm.personName,callback:function(t){e.$set(e.dataForm,"personName",t)},expression:"dataForm.personName"}})],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"身份证号：",placeholder:"身份证号",prop:"idCardNum"}},[a("el-input",{model:{value:e.dataForm.idCardNum,callback:function(t){e.$set(e.dataForm,"idCardNum",t)},expression:"dataForm.idCardNum"}})],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"性别：",prop:"gender"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.dataForm.gender,callback:function(t){e.$set(e.dataForm,"gender",t)},expression:"dataForm.gender"}},e._l(e.options2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"出生日期："}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"请选出生日期",format:"yyyy-MM-dd"},model:{value:e.dataForm.birthDate,callback:function(t){e.$set(e.dataForm,"birthDate",t)},expression:"dataForm.birthDate"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"住址：",prop:"address"}},[a("el-input",{attrs:{placeholder:"请填写住址"},model:{value:e.dataForm.address,callback:function(t){e.$set(e.dataForm,"address",t)},expression:"dataForm.address"}})],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"居住类型：",prop:"liveType"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.dataForm.liveType,callback:function(t){e.$set(e.dataForm,"liveType",t)},expression:"dataForm.liveType"}},e._l(e.options3,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"联系方式：",prop:"phoneNumber"}},[a("el-input",{attrs:{placeholder:"请填写联系方式"},model:{value:e.dataForm.phoneNumber,callback:function(t){e.$set(e.dataForm,"phoneNumber",t)},expression:"dataForm.phoneNumber"}})],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"职业：",prop:"professional"}},[a("el-input",{attrs:{placeholder:"请填写职业"},model:{value:e.dataForm.professional,callback:function(t){e.$set(e.dataForm,"professional",t)},expression:"dataForm.professional"}})],1)],1)],1)],1),a("div",{staticStyle:{width:"100%","background-color":"#d7d5d5","padding-left":"3%"}},[a("h3",{staticStyle:{"line-height":"55px"}},[e._v("健康信息")]),a("el-row",{staticStyle:{"margin-top":"-25px"}},[a("el-col",{attrs:{span:24}},[a("el-checkbox",{model:{value:e.checked1,callback:function(t){e.checked1=t},expression:"checked1"}},[e._v("咳嗽")]),a("el-checkbox",{model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}},[e._v("胸闷")]),a("el-checkbox",{model:{value:e.checked3,callback:function(t){e.checked3=t},expression:"checked3"}},[e._v("乏力")]),a("el-checkbox",{model:{value:e.checked4,callback:function(t){e.checked4=t},expression:"checked4"}},[e._v("气促")]),a("el-checkbox",{model:{value:e.checked5,callback:function(t){e.checked5=t},expression:"checked5"}},[e._v("其他呼吸道症状")])],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"体温："}},[a("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.dataForm.temperature,callback:function(t){e.$set(e.dataForm,"temperature",t)},expression:"dataForm.temperature"}})],1)],1),a("el-col",{attrs:{span:13}},[a("el-form-item",{attrs:{label:"其他症状："}},[a("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.dataForm.otherSymptoms,callback:function(t){e.$set(e.dataForm,"otherSymptoms",t)},expression:"dataForm.otherSymptoms"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"感染情况："}},[a("el-radio",{attrs:{label:"0"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("未感染")]),a("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("确诊")]),a("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("疑似")]),a("el-radio",{attrs:{label:"3"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("已出院")]),a("el-radio",{attrs:{label:"4"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("无症状感染")])],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"隔离情况："}},[a("el-radio",{attrs:{label:"1"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}},[e._v("未隔离")]),a("el-radio",{attrs:{label:"2"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}},[e._v("居家观察")]),a("el-radio",{attrs:{label:"3"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}},[e._v("集中隔离")])],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"隔离开始日期："}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择隔离开始日期",format:"yyyy-MM-dd HH:mm:ss"},model:{value:e.dataForm.startDate,callback:function(t){e.$set(e.dataForm,"startDate",t)},expression:"dataForm.startDate"}})],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"隔离解除日期："}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择隔离解除日期",format:"yyyy-MM-dd HH:mm:ss"},model:{value:e.dataForm.endDate,callback:function(t){e.$set(e.dataForm,"endDate",t)},expression:"dataForm.endDate"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"核酸检测情况："}},[a("el-radio",{attrs:{label:"1"},model:{value:e.radio2,callback:function(t){e.radio2=t},expression:"radio2"}},[e._v("未检测")]),a("el-radio",{attrs:{label:"2"},model:{value:e.radio2,callback:function(t){e.radio2=t},expression:"radio2"}},[e._v("已检测")])],1)],1)],1)],1),a("div",{staticStyle:{width:"100%","background-color":"#d7d5d5",padding:"0 2% 2% 2%"},attrs:{id:"peoInfo"}},[a("h3",{staticStyle:{"line-height":"55px"}},[e._v("来长人员信息")]),a("el-row",{staticStyle:{"margin-top":"-25px"}},[a("el-col",{attrs:{span:24,id:"province"}},[a("el-form-item",{attrs:{label:"曾经暴露的高风险地区：",prop:"riskRegion"}},[a("el-select",{attrs:{placeholder:"请选择省"},on:{change:function(t){return e.getCity()}},model:{value:e.dataForm.provinceId,callback:function(t){e.$set(e.dataForm,"provinceId",t)},expression:"dataForm.provinceId"}},e._l(e.options0,function(e){return a("el-option",{key:e.adminUnitId,attrs:{label:e.adminUnitName,value:e.adminUnitId}})}),1),a("el-select",{staticStyle:{"margin-left":"3%"},attrs:{disabled:e.itDisabled,placeholder:"请选择市"},model:{value:e.dataForm.riskRegion,callback:function(t){e.$set(e.dataForm,"riskRegion",t)},expression:"dataForm.riskRegion"}},e._l(e.options11,function(e){return a("el-option",{key:e.adminUnitId,attrs:{label:e.adminUnitName,value:e.adminUnitId}})}),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"暴露地区住址：",prop:"riskAddress"}},[a("el-input",{attrs:{placeholder:"请填写住址"},model:{value:e.dataForm.riskAddress,callback:function(t){e.$set(e.dataForm,"riskAddress",t)},expression:"dataForm.riskAddress"}})],1)],1),a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{label:"来长交通工具："}},[a("el-input",{attrs:{placeholder:""},model:{value:e.dataForm.vehicle,callback:function(t){e.$set(e.dataForm,"vehicle",t)},expression:"dataForm.vehicle"}})],1)],1)],1)],1),a("div",{attrs:{id:"btn"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("保存")])],1),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.giveUp()}}},[e._v("放弃")])],1)],1)])],1)},i=[],o=(a("ac6a"),{data:function(){return{dataForm:{checkDate:"",street:"",community:"",adminUnitId:"",personName:"",idCardNum:"",gender:"",birthDate:"",address:"",liveType:"",phoneNumber:"",professional:"",startDate:"",endDate:"",otherSymptoms:"",temperature:"",provinceId:"",riskRegion:"",riskAddress:"",vehicle:""},dataRule:{street:[{required:!0,message:"不能为空",trigger:"blur"}],community:[{required:!0,message:"不能为空",trigger:"blur"}],liveType:[{required:!0,message:"不能为空",trigger:"blur"}],phoneNumber:[{required:!0,message:"不能为空",trigger:"blur"}],provinceId:[{required:!0,message:"不能为空",trigger:"blur"}],riskRegion:[{required:!0,message:"不能为空",trigger:"blur"}],riskAddress:[{required:!0,message:"不能为空",trigger:"blur"}],checkDate:[{required:!0,message:"不能为空",trigger:"blur"}],personName:[{required:!0,message:"不能为空",trigger:"blur"}],idCardNum:[{required:!0,message:"不能为空",trigger:"blur"}],gender:[{required:!0,message:"不能为空",trigger:"blur"}],address:[{required:!0,message:"不能为空",trigger:"blur"}],professional:[{required:!0,message:"不能为空",trigger:"blur"}]},checked1:!1,checked2:!1,checked3:!1,checked4:!1,checked5:!1,radio:"",radio1:"",radio2:"",dataList:[],opt1:[],opt2:[],options0:[],options11:[],options2:[{value:"男",label:"男"},{value:"女",label:"女"}],options3:[{value:"1",label:"集体宿舍"},{value:"2",label:"租房"},{value:"3",label:"居家"},{value:"4",label:"其他"}],personId:"",dataListLoading:!1,addOrUpdateVisible:!1,itDisabled:!0}},components:{},activated:function(){},mounted:function(){this.selectList()},methods:{getCity:function(){var e=this;this.itDisabled=!1,this.$http({url:this.$http.adornUrl("/admin/getChildListByParentId"),method:"get",params:this.$http.adornParams({superId:this.dataForm.provinceId})}).then(function(t){var a=t.data;a&&0===a.code&&(e.options11=a.data)})},getProvince:function(e){var t=this;this.itDisabled=!1,this.$http({url:this.$http.adornUrl("/admin/getParentIdById"),method:"get",params:this.$http.adornParams({id:e})}).then(function(e){var a=e.data;a&&0===a.code?null==a.entity?(t.dataForm.riskRegion="",t.dataForm.provinceId=""):t.dataForm.provinceId=a.entity.superAdminUnit:t.dataForm.riskRegion=""})},getCommunity:function(){var e=this;this.dataForm.community="",this.$http({url:this.$http.adornUrl("/admin/getChildListByParentId"),method:"get",params:this.$http.adornParams({superId:this.dataForm.street})}).then(function(t){var a=t.data;a&&0===a.code&&(e.opt2=a.data)})},getStreet:function(e){var t=this;this.$http({url:this.$http.adornUrl("/admin/getParentIdById"),method:"get",params:this.$http.adornParams({id:e})}).then(function(e){var a=e.data;a&&0===a.code?null==a.entity?(t.dataForm.street="",t.dataForm.community=""):t.dataForm.street=a.entity.superAdminUnit:t.dataForm.community=""})},selectList:function(){var e=this;this.$http({url:this.$http.adornUrl("/admin/getTownList"),method:"get",params:this.$http.adornParams({})}).then(function(t){var a=t.data;a&&0===a.code&&(e.opt1=a.data)}),this.$http({url:this.$http.adornUrl("/admin/getVillageList"),method:"get",params:this.$http.adornParams({})}).then(function(t){var a=t.data;a&&0===a.code&&(e.opt2=a.data)}),this.$http({url:this.$http.adornUrl("/admin/getAdminUnitByLevel/0"),method:"get",params:this.$http.adornParams({})}).then(function(t){var a=t.data;a&&0===a.code&&(e.options0=a.data)}),this.$http({url:this.$http.adornUrl("/admin/getAdminUnitByLevel/1"),method:"get",params:this.$http.adornParams({})}).then(function(t){var a=t.data;a&&0===a.code&&(e.options11=a.data)})},init:function(e){var t=this;this.personId=e,this.$http({url:this.$http.adornUrl("/person/info/".concat(e)),method:"get",params:this.$http.adornParams({})}).then(function(e){var a=e.data;if(a&&0===a.code){var r=a.entity;if(null==r)return;t.dataForm.checkDate=r.checkDate,t.getStreet(r.adminUnitId),t.dataForm.community=r.adminUnitId,t.dataForm.personName=r.personName,t.dataForm.idCardNum=r.certId,t.dataForm.address=r.address,t.dataForm.gender=r.gender,t.dataForm.birthDate=r.birthDate,t.dataForm.liveType=r.resideType+"",t.dataForm.phoneNumber=r.mobilePhoneNum,t.dataForm.professional=r.career,t.dataForm.provinceId=r.epidemicUnitId}}),this.$http({url:this.$http.adornUrl("/risk/evaluate/info/".concat(e)),method:"get",params:this.$http.adornParams({})}).then(function(e){var a=e.data;if(a&&0===a.code){var r=a.addition_info;if(null==r)return;if(t.checked1=r.isCough>0,t.checked2=r.isChestTight>0,t.checked3=r.isWeak>0,t.checked4=r.isDyspnea>0,t.checked5=r.isOtherSymptom>0,t.dataForm.temperature=r.bodyTemperature,t.dataForm.otherSymptoms=r.otherSympotom,t.radio=r.diagnoseStatus+"",t.radio1=r.quarantineType+"",t.dataForm.startDate=r.quarStartDate,t.dataForm.endDate=r.quarFinishDate,t.radio2=r.isRnaTest+"",t.dataForm.provinceId=t.getProvince(r.epidemicUnitId),t.dataForm.riskRegion=r.epidemicUnitId,t.dataForm.riskAddress=r.riskAreaAddress,t.dataForm.vehicle=r.vehicle,null!=r.epidemicUnitId&&0!=r.epidemicUnitId){var i=!1;t.options0.forEach(function(e){r.epidemicUnitId==e.adminUnitId&&(t.dataForm.provinceId=e.adminUnitId,i=!0,t.$http({url:t.$http.adornUrl("/admin/getChildListByParentId"),method:"get",params:t.$http.adornParams({superId:e.adminUnitId})}).then(function(e){var a=e.data;a&&0===a.code&&(t.options11=a.data)}))}),i||t.options0.forEach(function(e){t.$http({url:t.$http.adornUrl("/admin/getChildListByParentId"),method:"get",params:t.$http.adornParams({superId:e.adminUnitId})}).then(function(e){var a=e.data;if(a&&0===a.code){var i=!1;a.data.forEach(function(e){r.epidemicUnitId==e.adminUnitId&&(t.dataForm.riskRegion=e.adminUnitId,t.dataForm.provinceId=e.superAdminUnit,i=!0)}),i&&(t.options11=a.data)}})})}}})},dataFormSubmit:function(){var e=this,t=this;this.$refs["dataForm"].validate(function(a){a&&e.$http({url:e.$http.adornUrl("/person/update"),method:"post",data:e.$http.adornData({personId:e.personId,checkDate:e.dataForm.checkDate,adminUnitId:e.dataForm.community,personName:e.dataForm.personName,certId:e.dataForm.idCardNum,address:e.dataForm.address,gender:e.dataForm.gender,birthDate:e.dataForm.birthDate,resideType:e.dataForm.liveType,mobilePhoneNum:e.dataForm.phoneNumber,career:e.dataForm.professional})}).then(function(e){var a=e.data;0==a.code&&t.addInfo1()})})},addInfo1:function(){var e=this;this.$refs["dataForm"].validate(function(t){if(t){var a=e.dataForm.provinceId,r=e.dataForm.riskRegion,i=null;r&&""!=r?i=r:a&&""!=a&&(i=a),e.$http({url:e.$http.adornUrl("/risk/evaluate/update"),method:"post",data:e.$http.adornData({personId:e.personId,isCough:0==e.checked1?0:1,isChestTight:0==e.checked2?0:1,isWeak:0==e.checked3?0:1,isDyspnea:0==e.checked4?0:1,isOtherSymptom:0==e.checked5?0:1,bodyTemperature:e.dataForm.temperature,otherSympotom:e.dataForm.otherSymptoms,diagnoseStatus:e.radio,quarantineType:e.radio1,quarStartDate:e.dataForm.startDate,mobilePhoneNum:e.dataForm.phoneNumber,quarFinishDate:e.dataForm.endDate,isRnaTest:e.radio2,riskAreaAddress:e.dataForm.riskAddress,epidemicUnitId:i,checkDate:e.dataForm.checkDate,vehicle:e.dataForm.vehicle})}).then(function(t){var a=t.data;0==a.code&&e.$emit("refreshDataList")})}})},giveUp:function(){this.$emit("refreshDataList")}}}),d=o,l=(a("3487"),a("2877")),n=Object(l["a"])(d,r,i,!1,null,"eb1f8848",null);t["default"]=n.exports},fd77:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mod-user"},[e.mainVisible?a("div",[a("el-form",{attrs:{inline:!0,model:e.dataForm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getDataList()}}},[a("div",{staticClass:"col-xs-4"},[a("el-form-item",[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",clearable:!1,"value-format":"yyyy-MM-dd",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日"},model:{value:e.dataForm.statisticalDate,callback:function(t){e.$set(e.dataForm,"statisticalDate",t)},expression:"dataForm.statisticalDate"}})],1)]),a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"请选择镇/街"},on:{change:function(t){return e.getCommunity()}},model:{value:e.dataForm.street,callback:function(t){e.$set(e.dataForm,"street",t)},expression:"dataForm.street"}},e._l(e.opt1,function(e){return a("el-option",{key:e.adminUnitId,attrs:{label:e.adminUnitName,value:e.adminUnitId}})}),1)],1),a("el-form-item",[a("el-select",{attrs:{disabled:e.itDisabled,clearable:"",placeholder:"请选择村/社区"},model:{value:e.dataForm.community,callback:function(t){e.$set(e.dataForm,"community",t)},expression:"dataForm.community"}},e._l(e.opt2,function(e){return a("el-option",{key:e.adminUnitId,attrs:{label:e.adminUnitName,value:e.adminUnitId}})}),1)],1)],1),a("div",{staticClass:"col-xs-4"},[a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"请选择风险级别"},model:{value:e.dataForm.riskLevel,callback:function(t){e.$set(e.dataForm,"riskLevel",t)},expression:"dataForm.riskLevel"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名",clearable:""},model:{value:e.dataForm.personName,callback:function(t){e.$set(e.dataForm,"personName",t)},expression:"dataForm.personName"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"身份证号",clearable:""},model:{value:e.dataForm.certId,callback:function(t){e.$set(e.dataForm,"certId",t)},expression:"dataForm.certId"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getDataList(e.dataForm.statisticalDate)}}},[e._v("查询")])],1)],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataListLoading,expression:"dataListLoading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,border:""},on:{"selection-change":e.selectionChangeHandle}},[a("el-table-column",{attrs:{prop:"personId","header-align":"center",align:"center",width:"85",label:"编号"}}),a("el-table-column",{attrs:{prop:"personName","header-align":"center",align:"center",width:"80",label:"姓名"}}),a("el-table-column",{attrs:{prop:"certId","header-align":"center",align:"center",label:"身份证"}}),a("el-table-column",{attrs:{prop:"gender","header-align":"center",width:"50",align:"center",label:"性别"}}),a("el-table-column",{attrs:{prop:"mobilePhoneNum","header-align":"center",align:"center",label:"联系方式"}}),a("el-table-column",{attrs:{prop:"address","header-align":"center",align:"center",label:"常住地址"}}),a("el-table-column",{attrs:{prop:"resideType","header-align":"center",align:"center",width:"80",label:"居住类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1*t.row.resideType==1?a("div",[e._v("集体宿舍")]):e._e(),1*t.row.resideType==2?a("div",[e._v("租房")]):e._e(),1*t.row.resideType==3?a("div",[e._v("居家")]):e._e(),1*t.row.resideType==4?a("div",[e._v("其他")]):e._e()]}}],null,!1,4085500132)}),a("el-table-column",{attrs:{prop:"riskLevel","header-align":"center",align:"center",width:"80",label:"风险级别"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.riskLevel?a("div",[e._v("低风险")]):e._e(),1==t.row.riskLevel?a("div",[e._v("中风险")]):e._e(),2==t.row.riskLevel?a("div",[e._v("高风险")]):e._e()]}}],null,!1,3841552249)}),a("el-table-column",{attrs:{prop:"career","header-align":"center",width:"80",align:"center",label:"职业"}}),a("el-table-column",{attrs:{fixed:"right","header-align":"center",align:"center",width:"60",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.addOrUpdateHandle(t.row.personId)}}},[e._v("详情\n                    ")])]}}],null,!1,3971928125)})],1),a("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[10,20,50,100],"page-size":e.pageSize,total:e.totalPage,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.sizeChangeHandle,"current-change":e.currentChangeHandle}})],1):e._e(),e.addOrUpdateVisible?a("add-or-update",{ref:"addOrUpdate",on:{refreshDataList:e.editorBack}}):e._e()],1)},i=[],o=a("f3fd"),d={data:function(){return{opt1:[],opt2:[],dataForm:{statisticalDate:"",personName:"",certId:"",adminUnitId:"",community:"",street:"",riskLevel:""},options:[{value:-1,label:"全部"},{value:0,label:"低风险"},{value:1,label:"中风险"},{value:2,label:"高风险"}],dataList:[],pageIndex:1,pageSize:10,totalPage:0,dataListLoading:!1,dataListSelections:[],addOrUpdateVisible:!1,mainVisible:!0,itDisabled:!0}},components:{AddOrUpdate:o["default"]},activated:function(){},mounted:function(){this.getMaxDate(),this.selectList()},methods:{editorBack:function(){this.getDataList(this.dataForm.statisticalDate)},getMaxDate:function(){var e=this;this.$http({url:this.$http.adornUrl("/risk/evaluate/getMaxDate"),method:"get",params:this.$http.adornParams({})}).then(function(t){var a=t.data;a&&0===a.code&&(e.dataForm.statisticalDate=a.maxDate,e.getDataList(a.maxDate))})},selectList:function(){var e=this;this.$http({url:this.$http.adornUrl("/admin/getTownList"),method:"get",params:this.$http.adornParams({})}).then(function(t){var a=t.data;a&&0===a.code&&(e.opt1=a.data)})},getCommunity:function(){var e=this;this.dataForm.community="",""!=this.dataForm.street?this.$http({url:this.$http.adornUrl("/admin/getChildListByParentId"),method:"get",params:this.$http.adornParams({superId:this.dataForm.street})}).then(function(t){var a=t.data;a&&0===a.code&&(e.itDisabled=!1,e.opt2=a.data)}):this.itDisabled=!0},getDataList:function(e){var t=this;this.mainVisible=!0,this.addOrUpdateVisible=!1,this.dataListLoading=!0,this.$http({url:this.$http.adornUrl("/person/list"),method:"get",params:this.$http.adornParams({page:this.pageIndex,limit:this.pageSize,personName:this.dataForm.personName,townId:this.dataForm.street,villageId:this.dataForm.community,certId:this.dataForm.certId,checkDate:e,riskLevel:-1==this.dataForm.riskLevel?"":this.dataForm.riskLevel})}).then(function(e){var a=e.data;a&&0===a.code?(t.dataList=a.page.records,t.totalPage=a.page.total):(t.dataList=[],t.totalPage=0),t.dataListLoading=!1})},sizeChangeHandle:function(e){this.pageSize=e,this.pageIndex=1,this.getDataList()},currentChangeHandle:function(e){this.pageIndex=e,this.getDataList()},selectionChangeHandle:function(e){this.dataListSelections=e},addOrUpdateHandle:function(e){var t=this;this.mainVisible=!1,this.addOrUpdateVisible=!0,this.$nextTick(function(){t.$refs.addOrUpdate.init(e)})}}},l=d,n=a("2877"),s=Object(n["a"])(l,r,i,!1,null,null,null);t["default"]=s.exports}}]);
//# sourceMappingURL=chunk-4f5eacc6.911e7ce2.js.map