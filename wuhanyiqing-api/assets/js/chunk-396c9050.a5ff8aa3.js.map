{"version":3,"sources":["webpack:///./src/views/main-navbar.vue?c834","webpack:///src/views/main-navbar.vue","webpack:///./src/views/main-navbar.vue?8c94","webpack:///./src/views/main-navbar.vue","webpack:///./src/assets/img/avatar.png","webpack:///./src/views/main-navbar-update-password.vue?9cdb","webpack:///src/views/main-navbar-update-password.vue","webpack:///./src/views/main-navbar-update-password.vue?a24a","webpack:///./src/views/main-navbar-update-password.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","navbarLayoutType","on","click","$event","$router","push","name","attrs","href","_v","mode","index","sidebarFold","slot","value","show-timeout","placement","src","__webpack_require__","alt","userName","_s","nativeOn","updatePasswordHandle","logoutHandle","ref","_e","staticRenderFns","main_navbarvue_type_script_lang_js_","data","updatePassowrdVisible","components","UpdatePassword","main_navbar_update_password","computed","get","$store","state","common","set","val","commit","mainTabs","user","methods","_this","$nextTick","$refs","updatePassowrd","init","_this2","$confirm","confirmButtonText","cancelButtonText","type","then","$http","url","adornUrl","method","adornData","_ref","code","Object","utils","catch","views_main_navbarvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","module","exports","p","title","visible","append-to-body","update:visible","model","dataForm","rules","dataRule","label-width","keyup","indexOf","_k","keyCode","key","dataFormSubmit","label","prop","callback","$$v","$set","expression","main_navbar_update_passwordvue_type_script_lang_js_","validateConfirmPassword","rule","newPassword","Error","password","confirmPassword","required","message","trigger","validator","resetFields","_this3","validate","valid","$message","duration","onClose","replace","error","msg","views_main_navbar_update_passwordvue_type_script_lang_js_"],"mappings":"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","file":"assets/js/chunk-396c9050.a5ff8aa3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"site-navbar\",class:'site-navbar--' + _vm.navbarLayoutType},[_c('div',{staticClass:\"site-navbar__header\"},[_c('h1',{staticClass:\"site-navbar__brand\",on:{\"click\":function($event){return _vm.$router.push({ name: 'home' })}}},[_c('a',{staticClass:\"site-navbar__brand-lg\",attrs:{\"href\":\"javascript:;\"}},[_vm._v(\"武汉市滞汉外地人员信息上报平台\")])])]),_c('div',{staticClass:\"site-navbar__body clearfix\"},[_c('el-menu',{staticClass:\"site-navbar__menu\",attrs:{\"mode\":\"horizontal\"}},[_c('el-menu-item',{staticClass:\"site-navbar__switch\",attrs:{\"index\":\"0\"},on:{\"click\":function($event){_vm.sidebarFold = !_vm.sidebarFold}}},[_c('icon-svg',{attrs:{\"name\":\"zhedie\"}})],1)],1),_c('el-menu',{staticClass:\"site-navbar__menu site-navbar__menu--right\",attrs:{\"mode\":\"horizontal\"}},[_c('el-menu-item',{attrs:{\"index\":\"1\"},on:{\"click\":function($event){return _vm.$router.push({ name: 'theme' })}}},[_c('template',{slot:\"title\"},[_c('el-badge',{attrs:{\"value\":\"new\"}},[_c('icon-svg',{staticClass:\"el-icon-setting\",attrs:{\"name\":\"shezhi\"}})],1)],1)],2),_c('el-menu-item',{staticClass:\"site-navbar__avatar\",attrs:{\"index\":\"3\"}},[_c('el-dropdown',{attrs:{\"show-timeout\":0,\"placement\":\"bottom\"}},[_c('span',{staticClass:\"el-dropdown-link\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/avatar.png\"),\"alt\":_vm.userName}}),_vm._v(_vm._s(_vm.userName)+\"\\n          \")]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.updatePasswordHandle()}}},[_vm._v(\"修改密码\")]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.logoutHandle()}}},[_vm._v(\"退出\")])],1)],1)],1)],1)],1),(_vm.updatePassowrdVisible)?_c('update-password',{ref:\"updatePassowrd\"}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <nav class=\"site-navbar\" :class=\"'site-navbar--' + navbarLayoutType\">\n    <div class=\"site-navbar__header\">\n      <h1 class=\"site-navbar__brand\" @click=\"$router.push({ name: 'home' })\">\n        <a class=\"site-navbar__brand-lg\" href=\"javascript:;\">武汉市滞汉外地人员信息上报平台</a>\n        <!--<a class=\"site-navbar__brand-mini\" href=\"javascript:;\">金信</a>-->\n      </h1>\n    </div>\n    <div class=\"site-navbar__body clearfix\">\n      <el-menu\n        class=\"site-navbar__menu\"\n        mode=\"horizontal\">\n        <el-menu-item class=\"site-navbar__switch\" index=\"0\" @click=\"sidebarFold = !sidebarFold\">\n          <icon-svg name=\"zhedie\"></icon-svg>\n        </el-menu-item>\n      </el-menu>\n      <el-menu\n        class=\"site-navbar__menu site-navbar__menu--right\"\n        mode=\"horizontal\">\n        <el-menu-item index=\"1\" @click=\"$router.push({ name: 'theme' })\">\n          <template slot=\"title\">\n            <el-badge value=\"new\">\n              <icon-svg name=\"shezhi\" class=\"el-icon-setting\"></icon-svg>\n            </el-badge>\n          </template>\n        </el-menu-item>\n        <!--<el-menu-item index=\"2\">-->\n          <!--<el-badge value=\"hot\">-->\n            <!--<a href=\"//www.seaboxdata.com/\" target=\"_blank\">东方金信官方官网</a>-->\n          <!--</el-badge>-->\n        <!--</el-menu-item>-->\n        <!--<el-submenu index=\"3\">-->\n          <!--<template slot=\"title\">产品</template>-->\n          <!--<el-menu-item index=\"2-1\"><a href=\"//www.seaboxdata.com/about-us/toCompanyIntroduce/\" target=\"_blank\">关于我们</a></el-menu-item>-->\n          <!--<el-menu-item index=\"2-2\"><a href=\"//www.seaboxdata.com/product/toProduct?OrderNo=2\" target=\"_blank\">海盒大数据平台</a></el-menu-item>-->\n        <!--</el-submenu>-->\n        <el-menu-item class=\"site-navbar__avatar\" index=\"3\">\n          <el-dropdown :show-timeout=\"0\" placement=\"bottom\">\n            <span class=\"el-dropdown-link\">\n              <img src=\"~@/assets/img/avatar.png\" :alt=\"userName\">{{ userName }}\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item @click.native=\"updatePasswordHandle()\">修改密码</el-dropdown-item>\n              <el-dropdown-item @click.native=\"logoutHandle()\">退出</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </el-menu-item>\n      </el-menu>\n    </div>\n    <!-- 弹窗, 修改密码 -->\n    <update-password v-if=\"updatePassowrdVisible\" ref=\"updatePassowrd\"></update-password>\n  </nav>\n</template>\n\n<script>\n  import UpdatePassword from './main-navbar-update-password'\n  import { clearLoginInfo } from '@/utils'\n  export default {\n    data () {\n      return {\n        updatePassowrdVisible: false\n      }\n    },\n    components: {\n      UpdatePassword\n    },\n    computed: {\n      navbarLayoutType: {\n        get () { return this.$store.state.common.navbarLayoutType }\n      },\n      sidebarFold: {\n        get () { return this.$store.state.common.sidebarFold },\n        set (val) { this.$store.commit('common/updateSidebarFold', val) }\n      },\n      mainTabs: {\n        get () { return this.$store.state.common.mainTabs },\n        set (val) { this.$store.commit('common/updateMainTabs', val) }\n      },\n      userName: {\n        get () { return this.$store.state.user.name }\n      }\n    },\n    methods: {\n      // 修改密码\n      updatePasswordHandle () {\n        this.updatePassowrdVisible = true\n        this.$nextTick(() => {\n          this.$refs.updatePassowrd.init()\n        })\n      },\n      // 退出\n      logoutHandle () {\n        this.$confirm(`确定进行[退出]操作?`, '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http({\n            url: this.$http.adornUrl('/sys/logout'),\n            method: 'post',\n            data: this.$http.adornData()\n          }).then(({data}) => {\n            if (data && data.code === 0) {\n              clearLoginInfo()\n              this.$router.push({ name: 'login' })\n            }\n          })\n        }).catch(() => {})\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main-navbar.vue?vue&type=template&id=672fc23b&\"\nimport script from \"./main-navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./main-navbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"assets/img/avatar.c58e4651.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"修改密码\",\"visible\":_vm.visible,\"append-to-body\":true},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.dataForm,\"rules\":_vm.dataRule,\"label-width\":\"80px\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.dataFormSubmit()}}},[_c('el-form-item',{attrs:{\"label\":\"账号\"}},[_c('span',[_vm._v(_vm._s(_vm.userName))])]),_c('el-form-item',{attrs:{\"label\":\"原密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.dataForm.password),callback:function ($$v) {_vm.$set(_vm.dataForm, \"password\", $$v)},expression:\"dataForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"新密码\",\"prop\":\"newPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.dataForm.newPassword),callback:function ($$v) {_vm.$set(_vm.dataForm, \"newPassword\", $$v)},expression:\"dataForm.newPassword\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"confirmPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.dataForm.confirmPassword),callback:function ($$v) {_vm.$set(_vm.dataForm, \"confirmPassword\", $$v)},expression:\"dataForm.confirmPassword\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.dataFormSubmit()}}},[_vm._v(\"确定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    title=\"修改密码\"\n    :visible.sync=\"visible\"\n    :append-to-body=\"true\">\n    <el-form :model=\"dataForm\" :rules=\"dataRule\" ref=\"dataForm\" @keyup.enter.native=\"dataFormSubmit()\" label-width=\"80px\">\n      <el-form-item label=\"账号\">\n        <span>{{ userName }}</span>\n      </el-form-item>\n      <el-form-item label=\"原密码\" prop=\"password\">\n        <el-input type=\"password\" v-model=\"dataForm.password\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"新密码\" prop=\"newPassword\">\n        <el-input type=\"password\" v-model=\"dataForm.newPassword\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\n        <el-input type=\"password\" v-model=\"dataForm.confirmPassword\"></el-input>\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"visible = false\">取消</el-button>\n      <el-button type=\"primary\" @click=\"dataFormSubmit()\">确定</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\n  import { clearLoginInfo } from '@/utils'\n  export default {\n    data () {\n      var validateConfirmPassword = (rule, value, callback) => {\n        if (this.dataForm.newPassword !== value) {\n          callback(new Error('确认密码与新密码不一致'))\n        } else {\n          callback()\n        }\n      }\n      return {\n        visible: false,\n        dataForm: {\n          password: '',\n          newPassword: '',\n          confirmPassword: ''\n        },\n        dataRule: {\n          password: [\n            { required: true, message: '原密码不能为空', trigger: 'blur' }\n          ],\n          newPassword: [\n            { required: true, message: '新密码不能为空', trigger: 'blur' }\n          ],\n          confirmPassword: [\n            { required: true, message: '确认密码不能为空', trigger: 'blur' },\n            { validator: validateConfirmPassword, trigger: 'blur' }\n          ]\n        }\n      }\n    },\n    computed: {\n      userName: {\n        get () { return this.$store.state.user.name }\n      },\n      mainTabs: {\n        get () { return this.$store.state.common.mainTabs },\n        set (val) { this.$store.commit('common/updateMainTabs', val) }\n      }\n    },\n    methods: {\n      // 初始化\n      init () {\n        this.visible = true\n        this.$nextTick(() => {\n          this.$refs['dataForm'].resetFields()\n        })\n      },\n      // 表单提交\n      dataFormSubmit () {\n        this.$refs['dataForm'].validate((valid) => {\n          if (valid) {\n            this.$http({\n              url: this.$http.adornUrl('/sys/user/password'),\n              method: 'post',\n              data: this.$http.adornData({\n                'password': this.dataForm.password,\n                'newPassword': this.dataForm.newPassword\n              })\n            }).then(({data}) => {\n              if (data && data.code === 0) {\n                this.$message({\n                  message: '操作成功',\n                  type: 'success',\n                  duration: 1500,\n                  onClose: () => {\n                    this.visible = false\n                    this.$nextTick(() => {\n                      this.mainTabs = []\n                      clearLoginInfo()\n                      this.$router.replace({ name: 'login' })\n                    })\n                  }\n                })\n              } else {\n                this.$message.error(data.msg)\n              }\n            })\n          }\n        })\n      }\n    }\n  }\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-navbar-update-password.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main-navbar-update-password.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main-navbar-update-password.vue?vue&type=template&id=63bf4aee&\"\nimport script from \"./main-navbar-update-password.vue?vue&type=script&lang=js&\"\nexport * from \"./main-navbar-update-password.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}