{"version":3,"sources":["webpack:///./src/views/modules/sys/menu.vue?df3b","webpack:///src/views/modules/sys/menu.vue","webpack:///./src/views/modules/sys/menu.vue?c8b1","webpack:///./src/views/modules/sys/menu.vue","webpack:///./src/views/modules/sys/menu-add-or-update.vue?3db4","webpack:///src/views/modules/sys/menu-add-or-update.vue","webpack:///./src/views/modules/sys/menu-add-or-update.vue?9bbc","webpack:///./src/views/modules/sys/menu-add-or-update.vue","webpack:///./src/views/modules/sys/menu.vue?11ae","webpack:///./src/views/modules/sys/menu-add-or-update.vue?a847","webpack:///./src/components/table-tree-column/index.vue?0aca","webpack:///src/components/table-tree-column/index.vue","webpack:///./src/components/table-tree-column/index.vue?1c17","webpack:///./src/components/table-tree-column/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","inline","model","dataForm","isAuth","type","on","click","$event","addOrUpdateHandle","_v","_e","staticStyle","width","data","dataList","border","row-key","prop","header-align","align","label","scopedSlots","_u","key","fn","scope","name","row","icon","size","show-overflow-tooltip","fixed","menuId","deleteHandle","ref","refreshDataList","getDataList","staticRenderFns","menuvue_type_script_lang_js_","dataListLoading","addOrUpdateVisible","components","TableTreeColumn","table_tree_column","AddOrUpdate","menu_add_or_update","activated","methods","_this","$http","url","adornUrl","method","params","adornParams","then","_ref","Object","utils","id","_this2","$nextTick","$refs","addOrUpdate","init","_this3","$confirm","concat","confirmButtonText","cancelButtonText","adornData","_ref2","code","$message","message","duration","onClose","error","msg","catch","sys_menuvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","title","close-on-click-modal","visible","update:visible","rules","dataRule","label-width","nativeOn","keyup","indexOf","_k","keyCode","dataFormSubmit","value","callback","$$v","$set","expression","_l","index","_s","typeList","placeholder","placement","trigger","menuList","props","menuListTreeProps","node-key","default-expand-all","highlight-current","expand-on-click-node","current-change","menuListTreeCurrentChangeHandle","directives","rawName","arg","readonly","controls-position","min","span","popper-class","item","class","is-active","iconActiveHandle","effect","slot","href","target","menu_add_or_updatevue_type_script_lang_js_","validateUrl","rule","test","Error","parentId","parentName","perms","orderNum","iconList","required","validator","children","created","icons","getNameList","resetFields","menu","menuListTreeSetCurrentNode","node","menuListTree","setCurrentKey","getCurrentNode","iconName","validate","valid","undefined","_ref3","$emit","sys_menu_add_or_updatevue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_index_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_index_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_index_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_add_or_update_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_7_oneOf_1_0_node_modules_css_loader_index_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_add_or_update_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_b","style","childStyles","preventDefault","toggleHandle","$index","iconClasses","iconStyles","$attrs","table_tree_columnvue_type_script_lang_js_","String","treeKey","default","parentKey","levelKey","childKey","padding-left","_expanded","visibility","hasChild","isArray_default","length","$parent","store","states","slice","splice","removeChildNode","commit","doLayout","parentIds","ids","i","push","components_table_tree_columnvue_type_script_lang_js_"],"mappings":"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","file":"assets/js/chunk-3a5d92f9.7cb7cad8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mod-menu\"},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.dataForm}},[_c('el-form-item',[(_vm.isAuth('sys:menu:save'))?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addOrUpdateHandle()}}},[_vm._v(\"新增\")]):_vm._e()],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dataList,\"border\":\"\",\"row-key\":\"menuId\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"header-align\":\"center\",\"align\":\"center\",\"width\":\"150\",\"label\":\"名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"parentName\",\"header-align\":\"center\",\"align\":\"center\",\"width\":\"100\",\"label\":\"上级菜单\"}}),_c('el-table-column',{attrs:{\"header-align\":\"center\",\"align\":\"center\",\"label\":\"图标\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('icon-svg',{attrs:{\"name\":scope.row.icon || ''}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"header-align\":\"center\",\"align\":\"center\",\"label\":\"类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.type === 0)?_c('el-tag',{attrs:{\"size\":\"small\"}},[_vm._v(\"目录\")]):(scope.row.type === 1)?_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"success\"}},[_vm._v(\"菜单\")]):(scope.row.type === 2)?_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"info\"}},[_vm._v(\"按钮\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"orderNum\",\"header-align\":\"center\",\"align\":\"center\",\"label\":\"排序号\"}}),_c('el-table-column',{attrs:{\"prop\":\"url\",\"header-align\":\"center\",\"align\":\"center\",\"width\":\"150\",\"show-overflow-tooltip\":true,\"label\":\"菜单URL\"}}),_c('el-table-column',{attrs:{\"prop\":\"perms\",\"header-align\":\"center\",\"align\":\"center\",\"width\":\"150\",\"show-overflow-tooltip\":true,\"label\":\"授权标识\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"header-align\":\"center\",\"align\":\"center\",\"width\":\"150\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.isAuth('sys:menu:update'))?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.addOrUpdateHandle(scope.row.menuId)}}},[_vm._v(\"修改\")]):_vm._e(),(_vm.isAuth('sys:menu:delete'))?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteHandle(scope.row.menuId)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],1),(_vm.addOrUpdateVisible)?_c('add-or-update',{ref:\"addOrUpdate\",on:{\"refreshDataList\":_vm.getDataList}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mod-menu\">\n    <el-form :inline=\"true\" :model=\"dataForm\">\n      <el-form-item>\n        <el-button v-if=\"isAuth('sys:menu:save')\" type=\"primary\" @click=\"addOrUpdateHandle()\">新增</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table\n      :data=\"dataList\"\n      border\n      style=\"width: 100%;\" row-key=\"menuId\">\n      <!--<el-table-column-->\n        <!--prop=\"menuId\"-->\n        <!--header-align=\"center\"-->\n        <!--width=\"100\"-->\n        <!--label=\"ID\">-->\n      <!--</el-table-column>-->\n      <!--<table-tree-column-->\n        <!--prop=\"name\"-->\n        <!--header-align=\"center\"-->\n        <!--treeKey=\"menuId\"-->\n        <!--width=\"150\"-->\n        <!--label=\"名称\">-->\n      <!--</table-tree-column>-->\n      <el-table-column\n        prop=\"name\"\n        header-align=\"center\"\n        align=\"center\"\n        width=\"150\"\n        label=\"名称\">\n      </el-table-column>\n      <el-table-column\n        prop=\"parentName\"\n        header-align=\"center\"\n        align=\"center\"\n        width=\"100\"\n        label=\"上级菜单\">\n      </el-table-column>\n      <el-table-column\n        header-align=\"center\"\n        align=\"center\"\n        label=\"图标\">\n        <template slot-scope=\"scope\">\n          <icon-svg :name=\"scope.row.icon || ''\"></icon-svg>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"type\"\n        header-align=\"center\"\n        align=\"center\"\n        label=\"类型\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.type === 0\" size=\"small\">目录</el-tag>\n          <el-tag v-else-if=\"scope.row.type === 1\" size=\"small\" type=\"success\">菜单</el-tag>\n          <el-tag v-else-if=\"scope.row.type === 2\" size=\"small\" type=\"info\">按钮</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"orderNum\"\n        header-align=\"center\"\n        align=\"center\"\n        label=\"排序号\">\n      </el-table-column>\n      <el-table-column\n        prop=\"url\"\n        header-align=\"center\"\n        align=\"center\"\n        width=\"150\"\n        :show-overflow-tooltip=\"true\"\n        label=\"菜单URL\">\n      </el-table-column>\n      <el-table-column\n        prop=\"perms\"\n        header-align=\"center\"\n        align=\"center\"\n        width=\"150\"\n        :show-overflow-tooltip=\"true\"\n        label=\"授权标识\">\n      </el-table-column>\n      <el-table-column\n        fixed=\"right\"\n        header-align=\"center\"\n        align=\"center\"\n        width=\"150\"\n        label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button v-if=\"isAuth('sys:menu:update')\" type=\"text\" size=\"small\" @click=\"addOrUpdateHandle(scope.row.menuId)\">修改</el-button>\n          <el-button v-if=\"isAuth('sys:menu:delete')\" type=\"text\" size=\"small\" @click=\"deleteHandle(scope.row.menuId)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 弹窗, 新增 / 修改 -->\n    <add-or-update v-if=\"addOrUpdateVisible\" ref=\"addOrUpdate\" @refreshDataList=\"getDataList\"></add-or-update>\n  </div>\n</template>\n\n<script>\n  import TableTreeColumn from '@/components/table-tree-column'\n  import AddOrUpdate from './menu-add-or-update'\n  import { treeDataTranslate } from '@/utils'\n  export default {\n    data () {\n      return {\n        dataForm: {},\n        dataList: [],\n        dataListLoading: false,\n        addOrUpdateVisible: false\n      }\n    },\n    components: {\n      TableTreeColumn,\n      AddOrUpdate\n    },\n    activated () {\n      this.getDataList()\n    },\n    methods: {\n      // 获取数据列表\n      getDataList () {\n        this.dataListLoading = true\n        this.$http({\n          url: this.$http.adornUrl('/sys/menu/list'),\n          method: 'get',\n          params: this.$http.adornParams()\n        }).then(({data}) => {\n          this.dataList = treeDataTranslate(data.data, 'menuId', 'parentId')\n          this.dataListLoading = false\n        })\n      },\n      // 新增 / 修改\n      addOrUpdateHandle (id) {\n        this.addOrUpdateVisible = true\n        this.$nextTick(() => {\n          this.$refs.addOrUpdate.init(id)\n        })\n      },\n      // 删除\n      deleteHandle (id) {\n        this.$confirm(`确定对[id=${id}]进行[删除]操作?`, '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http({\n            url: this.$http.adornUrl(`/sys/menu/delete/${id}`),\n            method: 'post',\n            data: this.$http.adornData()\n          }).then(({data}) => {\n            if (data && data.code === 0) {\n              this.$message({\n                message: '操作成功',\n                type: 'success',\n                duration: 1500,\n                onClose: () => {\n                  this.getDataList()\n                }\n              })\n            } else {\n              this.$message.error(data.msg)\n            }\n          })\n        }).catch(() => {})\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  .el-table__expand-icon {\n    float: left; margin: 0 15px;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./menu.vue?vue&type=template&id=3d0f3d48&\"\nimport script from \"./menu.vue?vue&type=script&lang=js&\"\nexport * from \"./menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menu.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":!_vm.dataForm.id ? '新增' : '修改',\"close-on-click-modal\":false,\"visible\":_vm.visible},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.dataForm,\"rules\":_vm.dataRule,\"label-width\":\"80px\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.dataFormSubmit()}}},[_c('el-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"type\"}},[_c('el-radio-group',{model:{value:(_vm.dataForm.type),callback:function ($$v) {_vm.$set(_vm.dataForm, \"type\", $$v)},expression:\"dataForm.type\"}},_vm._l((_vm.dataForm.typeList),function(type,index){return _c('el-radio',{key:index,attrs:{\"label\":index}},[_vm._v(_vm._s(type))])}),1)],1),_c('el-form-item',{attrs:{\"label\":_vm.dataForm.typeList[_vm.dataForm.type] + '名称',\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.dataForm.typeList[_vm.dataForm.type] + '名称'},model:{value:(_vm.dataForm.name),callback:function ($$v) {_vm.$set(_vm.dataForm, \"name\", $$v)},expression:\"dataForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"上级菜单\",\"prop\":\"parentName\"}},[_c('el-popover',{ref:\"menuListPopover\",attrs:{\"placement\":\"bottom-start\",\"trigger\":\"click\"}},[_c('el-tree',{ref:\"menuListTree\",attrs:{\"data\":_vm.menuList,\"props\":_vm.menuListTreeProps,\"node-key\":\"menuId\",\"default-expand-all\":true,\"highlight-current\":true,\"expand-on-click-node\":false},on:{\"current-change\":_vm.menuListTreeCurrentChangeHandle}})],1),_c('el-input',{directives:[{name:\"popover\",rawName:\"v-popover:menuListPopover\",arg:\"menuListPopover\"}],staticClass:\"menu-list__input\",attrs:{\"readonly\":true,\"placeholder\":\"点击选择上级菜单\"},model:{value:(_vm.dataForm.parentName),callback:function ($$v) {_vm.$set(_vm.dataForm, \"parentName\", $$v)},expression:\"dataForm.parentName\"}})],1),(_vm.dataForm.type === 1)?_c('el-form-item',{attrs:{\"label\":\"菜单路由\",\"prop\":\"url\"}},[_c('el-input',{attrs:{\"placeholder\":\"菜单路由\"},model:{value:(_vm.dataForm.url),callback:function ($$v) {_vm.$set(_vm.dataForm, \"url\", $$v)},expression:\"dataForm.url\"}})],1):_vm._e(),(_vm.dataForm.type !== 0)?_c('el-form-item',{attrs:{\"label\":\"授权标识\",\"prop\":\"perms\"}},[_c('el-input',{attrs:{\"placeholder\":\"多个用逗号分隔, 如: user:list,user:create\"},model:{value:(_vm.dataForm.perms),callback:function ($$v) {_vm.$set(_vm.dataForm, \"perms\", $$v)},expression:\"dataForm.perms\"}})],1):_vm._e(),(_vm.dataForm.type !== 2)?_c('el-form-item',{attrs:{\"label\":\"排序号\",\"prop\":\"orderNum\"}},[_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"min\":0,\"label\":\"排序号\"},model:{value:(_vm.dataForm.orderNum),callback:function ($$v) {_vm.$set(_vm.dataForm, \"orderNum\", $$v)},expression:\"dataForm.orderNum\"}})],1):_vm._e(),(_vm.dataForm.type !== 2)?_c('el-form-item',{attrs:{\"label\":\"菜单图标\",\"prop\":\"icon\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":22}},[_c('el-popover',{ref:\"iconListPopover\",attrs:{\"placement\":\"bottom-start\",\"trigger\":\"click\",\"popper-class\":\"mod-menu__icon-popover\"}},[_c('div',{staticClass:\"mod-menu__icon-list\"},_vm._l((_vm.iconList),function(item,index){return _c('el-button',{key:index,class:{ 'is-active': item === _vm.dataForm.icon },on:{\"click\":function($event){return _vm.iconActiveHandle(item)}}},[_c('icon-svg',{attrs:{\"name\":item}})],1)}),1)]),_c('el-input',{directives:[{name:\"popover\",rawName:\"v-popover:iconListPopover\",arg:\"iconListPopover\"}],staticClass:\"icon-list__input\",attrs:{\"readonly\":true,\"placeholder\":\"菜单图标名称\"},model:{value:(_vm.dataForm.icon),callback:function ($$v) {_vm.$set(_vm.dataForm, \"icon\", $$v)},expression:\"dataForm.icon\"}})],1),_c('el-col',{staticClass:\"icon-list__tips\",attrs:{\"span\":2}},[_c('el-tooltip',{attrs:{\"placement\":\"top\",\"effect\":\"light\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\"全站推荐使用SVG Sprite, 详细请参考:\"),_c('a',{attrs:{\"href\":\"//github.com/daxiongYang/renren-fast-vue/blob/master/src/icons/index.js\",\"target\":\"_blank\"}},[_vm._v(\"icons/index.js\")]),_vm._v(\"描述\")]),_c('i',{staticClass:\"el-icon-warning\"})])],1)],1)],1):_vm._e()],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.dataFormSubmit()}}},[_vm._v(\"确定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    :title=\"!dataForm.id ? '新增' : '修改'\"\n    :close-on-click-modal=\"false\"\n    :visible.sync=\"visible\">\n    <el-form :model=\"dataForm\" :rules=\"dataRule\" ref=\"dataForm\" @keyup.enter.native=\"dataFormSubmit()\" label-width=\"80px\">\n      <el-form-item label=\"类型\" prop=\"type\">\n        <el-radio-group v-model=\"dataForm.type\">\n          <el-radio v-for=\"(type, index) in dataForm.typeList\" :label=\"index\" :key=\"index\">{{ type }}</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item :label=\"dataForm.typeList[dataForm.type] + '名称'\" prop=\"name\">\n        <el-input v-model=\"dataForm.name\" :placeholder=\"dataForm.typeList[dataForm.type] + '名称'\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"上级菜单\" prop=\"parentName\">\n        <el-popover\n          ref=\"menuListPopover\"\n          placement=\"bottom-start\"\n          trigger=\"click\">\n          <el-tree\n            :data=\"menuList\"\n            :props=\"menuListTreeProps\"\n            node-key=\"menuId\"\n            ref=\"menuListTree\"\n            @current-change=\"menuListTreeCurrentChangeHandle\"\n            :default-expand-all=\"true\"\n            :highlight-current=\"true\"\n            :expand-on-click-node=\"false\">\n          </el-tree>\n        </el-popover>\n        <el-input v-model=\"dataForm.parentName\" v-popover:menuListPopover :readonly=\"true\" placeholder=\"点击选择上级菜单\" class=\"menu-list__input\"></el-input>\n      </el-form-item>\n      <el-form-item v-if=\"dataForm.type === 1\" label=\"菜单路由\" prop=\"url\">\n        <el-input v-model=\"dataForm.url\" placeholder=\"菜单路由\"></el-input>\n      </el-form-item>\n      <el-form-item v-if=\"dataForm.type !== 0\" label=\"授权标识\" prop=\"perms\">\n        <el-input v-model=\"dataForm.perms\" placeholder=\"多个用逗号分隔, 如: user:list,user:create\"></el-input>\n      </el-form-item>\n      <el-form-item v-if=\"dataForm.type !== 2\" label=\"排序号\" prop=\"orderNum\">\n        <el-input-number v-model=\"dataForm.orderNum\" controls-position=\"right\" :min=\"0\" label=\"排序号\"></el-input-number>\n      </el-form-item>\n      <el-form-item v-if=\"dataForm.type !== 2\" label=\"菜单图标\" prop=\"icon\">\n        <el-row>\n          <el-col :span=\"22\">\n            <el-popover\n              ref=\"iconListPopover\"\n              placement=\"bottom-start\"\n              trigger=\"click\"\n              popper-class=\"mod-menu__icon-popover\">\n              <div class=\"mod-menu__icon-list\">\n                <el-button\n                  v-for=\"(item, index) in iconList\"\n                  :key=\"index\"\n                  @click=\"iconActiveHandle(item)\"\n                  :class=\"{ 'is-active': item === dataForm.icon }\">\n                  <icon-svg :name=\"item\"></icon-svg>\n                </el-button>\n              </div>\n            </el-popover>\n            <el-input v-model=\"dataForm.icon\" v-popover:iconListPopover :readonly=\"true\" placeholder=\"菜单图标名称\" class=\"icon-list__input\"></el-input>\n          </el-col>\n          <el-col :span=\"2\" class=\"icon-list__tips\">\n            <el-tooltip placement=\"top\" effect=\"light\">\n              <div slot=\"content\">全站推荐使用SVG Sprite, 详细请参考:<a href=\"//github.com/daxiongYang/renren-fast-vue/blob/master/src/icons/index.js\" target=\"_blank\">icons/index.js</a>描述</div>\n              <i class=\"el-icon-warning\"></i>\n            </el-tooltip>\n          </el-col>\n        </el-row>\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"visible = false\">取消</el-button>\n      <el-button type=\"primary\" @click=\"dataFormSubmit()\">确定</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\n  import { treeDataTranslate } from '@/utils'\n  import Icon from '@/icons'\n  export default {\n    data () {\n      var validateUrl = (rule, value, callback) => {\n        if (this.dataForm.type === 1 && !/\\S/.test(value)) {\n          callback(new Error('菜单URL不能为空'))\n        } else {\n          callback()\n        }\n      }\n      return {\n        visible: false,\n        dataForm: {\n          id: 0,\n          type: 1,\n          typeList: ['目录', '菜单', '按钮'],\n          name: '',\n          parentId: 0,\n          parentName: '',\n          url: '',\n          perms: '',\n          orderNum: 0,\n          icon: '',\n          iconList: []\n        },\n        dataRule: {\n          name: [\n            { required: true, message: '菜单名称不能为空', trigger: 'blur' }\n          ],\n          parentName: [\n            { required: true, message: '上级菜单不能为空', trigger: 'change' }\n          ],\n          url: [\n            { validator: validateUrl, trigger: 'blur' }\n          ]\n        },\n        menuList: [],\n        menuListTreeProps: {\n          label: 'name',\n          children: 'children'\n        }\n      }\n    },\n    created () {\n      this.iconList = Icon.getNameList()\n    },\n    methods: {\n      init (id) {\n        this.dataForm.id = id || 0\n        this.$http({\n          url: this.$http.adornUrl('/sys/menu/select'),\n          method: 'get',\n          params: this.$http.adornParams()\n        }).then(({data}) => {\n          this.menuList = treeDataTranslate(data.menuList, 'menuId')\n        }).then(() => {\n          this.visible = true\n          this.$nextTick(() => {\n            this.$refs['dataForm'].resetFields()\n          })\n        }).then(() => {\n          if (!this.dataForm.id) {\n            // 新增\n            this.menuListTreeSetCurrentNode()\n          } else {\n            // 修改\n            this.$http({\n              url: this.$http.adornUrl(`/sys/menu/info/${this.dataForm.id}`),\n              method: 'get',\n              params: this.$http.adornParams()\n            }).then(({data}) => {\n              this.dataForm.id = data.menu.menuId\n              this.dataForm.type = data.menu.type\n              this.dataForm.name = data.menu.name\n              this.dataForm.parentId = data.menu.parentId\n              this.dataForm.url = data.menu.url\n              this.dataForm.perms = data.menu.perms\n              this.dataForm.orderNum = data.menu.orderNum\n              this.dataForm.icon = data.menu.icon\n              this.menuListTreeSetCurrentNode()\n            })\n          }\n        })\n      },\n      // 菜单树选中\n      menuListTreeCurrentChangeHandle (data, node) {\n        this.dataForm.parentId = data.menuId\n        this.dataForm.parentName = data.name\n      },\n      // 菜单树设置当前选中节点\n      menuListTreeSetCurrentNode () {\n        this.$refs.menuListTree.setCurrentKey(this.dataForm.parentId)\n        this.dataForm.parentName = (this.$refs.menuListTree.getCurrentNode() || {})['name']\n      },\n      // 图标选中\n      iconActiveHandle (iconName) {\n        this.dataForm.icon = iconName\n      },\n      // 表单提交\n      dataFormSubmit () {\n        this.$refs['dataForm'].validate((valid) => {\n          if (valid) {\n            this.$http({\n              url: this.$http.adornUrl(`/sys/menu/${!this.dataForm.id ? 'save' : 'update'}`),\n              method: 'post',\n              data: this.$http.adornData({\n                'menuId': this.dataForm.id || undefined,\n                'type': this.dataForm.type,\n                'name': this.dataForm.name,\n                'parentId': this.dataForm.parentId,\n                'url': this.dataForm.url,\n                'perms': this.dataForm.perms,\n                'orderNum': this.dataForm.orderNum,\n                'icon': this.dataForm.icon\n              })\n            }).then(({data}) => {\n              if (data && data.code === 0) {\n                this.$message({\n                  message: '操作成功',\n                  type: 'success',\n                  duration: 1500,\n                  onClose: () => {\n                    this.visible = false\n                    this.$emit('refreshDataList')\n                  }\n                })\n              } else {\n                this.$message.error(data.msg)\n              }\n            })\n          }\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  .mod-menu {\n    .menu-list__input,\n    .icon-list__input {\n       > .el-input__inner {\n        cursor: pointer;\n      }\n    }\n    &__icon-popover {\n      max-width: 370px;\n    }\n    &__icon-list {\n      max-height: 180px;\n      padding: 0;\n      margin: -8px 0 0 -8px;\n      > .el-button {\n        padding: 8px;\n        margin: 8px 0 0 8px;\n        > span {\n          display: inline-block;\n          vertical-align: middle;\n          width: 18px;\n          height: 18px;\n          font-size: 18px;\n        }\n      }\n    }\n    .icon-list__tips {\n      font-size: 18px;\n      text-align: center;\n      color: #e6a23c;\n      cursor: pointer;\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu-add-or-update.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu-add-or-update.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./menu-add-or-update.vue?vue&type=template&id=a4908bf0&\"\nimport script from \"./menu-add-or-update.vue?vue&type=script&lang=js&\"\nexport * from \"./menu-add-or-update.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menu-add-or-update.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--7-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--7-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--7-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu-add-or-update.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--7-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu-add-or-update.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-table-column',_vm._b({attrs:{\"prop\":_vm.prop},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{style:(_vm.childStyles(scope.row)),on:{\"click\":function($event){$event.preventDefault();return _vm.toggleHandle(scope.$index, scope.row)}}},[_c('i',{class:_vm.iconClasses(scope.row),style:(_vm.iconStyles(scope.row))}),_vm._v(\"\\n      \"+_vm._s(scope.row[_vm.prop])+\"\\n    \")])]}}])},'el-table-column',_vm.$attrs,false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-table-column :prop=\"prop\" v-bind=\"$attrs\">\n    <template slot-scope=\"scope\">\n      <span @click.prevent=\"toggleHandle(scope.$index, scope.row)\" :style=\"childStyles(scope.row)\">\n        <i :class=\"iconClasses(scope.row)\" :style=\"iconStyles(scope.row)\"></i>\n        {{ scope.row[prop] }}\n      </span>\n    </template>\n  </el-table-column>\n</template>\n\n<script>\n  import isArray from 'lodash/isArray'\n  export default {\n    name: 'table-tree-column',\n    props: {\n      prop: {\n        type: String\n      },\n      treeKey: {\n        type: String,\n        default: 'id'\n      },\n      parentKey: {\n        type: String,\n        default: 'parentId'\n      },\n      levelKey: {\n        type: String,\n        default: '_level'\n      },\n      childKey: {\n        type: String,\n        default: 'children'\n      }\n    },\n    methods: {\n      childStyles (row) {\n        return { 'padding-left': (row[this.levelKey] > 1 ? row[this.levelKey] * 7 : 0) + 'px' }\n      },\n      iconClasses (row) {\n        return [ !row._expanded ? 'el-icon-caret-right' : 'el-icon-caret-bottom' ]\n      },\n      iconStyles (row) {\n        return { 'visibility': this.hasChild(row) ? 'visible' : 'hidden' }\n      },\n      hasChild (row) {\n        return (isArray(row[this.childKey]) && row[this.childKey].length >= 1) || false\n      },\n      // 切换处理\n      toggleHandle (index, row) {\n        if (this.hasChild(row)) {\n          var data = this.$parent.store.states.data.slice(0)\n          data[index]._expanded = !data[index]._expanded\n          if (data[index]._expanded) {\n            data = data.splice(0, index + 1).concat(row[this.childKey]).concat(data)\n          } else {\n            data = this.removeChildNode(data, row[this.treeKey])\n          }\n          this.$parent.store.commit('setData', data)\n          this.$nextTick(() => {\n            this.$parent.doLayout()\n          })\n        }\n      },\n      // 移除子节点\n      removeChildNode (data, parentId) {\n        var parentIds = isArray(parentId) ? parentId : [parentId]\n        if (parentId.length <= 0) {\n          return data\n        }\n        var ids = []\n        for (var i = 0; i < data.length; i++) {\n          if (parentIds.indexOf(data[i][this.parentKey]) !== -1 && parentIds.indexOf(data[i][this.treeKey]) === -1) {\n            ids.push(data.splice(i, 1)[0][this.treeKey])\n            i--\n          }\n        }\n        return this.removeChildNode(data, ids)\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5c1f7988&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}